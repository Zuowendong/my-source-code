<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Vue</title>
	</head>
	<body>
		<div id="app" style="color: red; font-size: 20px">
			Vue {{ msg }}
			<h2 class="title">World</h2>
		</div>

		<script src="./dist/vue.js"></script>
		<script>
			Vue.Mixin({
				created: function a() {
					// console.log("a-----全局的先调用");
				},
			});
			Vue.Mixin({
				created: function b() {
					// console.log("b-----全局的先调用");
				},
			});

			let vm = new Vue({
				el: "#app",
				// data: {},
				data() {
					// console.log(this); // 没有call -> 指向 Window
					return {
						msg: "Hello",
						// info: { name: "jack" },
						list: [1, 2, 3, 4],
						arr: [{ name: "jack" }, { name: "tom" }], // name 未劫持
					};
				},
				created() {
					// console.log("调用生命周期函数");
				},
			});

			setTimeout(() => {
				vm.msg = "Hi";
				// vm._update(vm._render()); // 需要自动更新视图
			}, 1000);
			console.log(vm);
			/**
			 * 无法自动更新视图的问题
			 * 1. 数据变化自动更新视图 vm._update(vm._render())
			 * 2. vue 中更新组件策略： 以组件为单位，给每个组件添加一个watcher, 属性变化后调用这个watcher
			 */
		</script>
	</body>
</html>
